{"ast":null,"code":"var _jsxFileName = \"/media/mark/mark_nakachon/internshala/news-app/news-app/src/components/Channel.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SearchBar from './SearchBar';\nimport Loading from './Loading';\nimport '../Hover.css';\nexport function updateSearchQuery(query) {\n  this.setState({\n    searchQuery: query\n  });\n}\n\nclass Channel extends Component {\n  constructor(props) {\n    super(props);\n    this.abortController = new AbortController();\n    this.state = {\n      ChannelData: null,\n      searchQuery: null\n    };\n    updateSearchQuery = updateSearchQuery.bind(this);\n  }\n\n  /* myStyle = {\n       cardhover:{\n           backgroundColor:\"red\"\n       }\n  }*/\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    fetch(\"https://newsapi.org/v2/everything?sources=\".concat(id, \"&pageSize=100&apiKey=0279b927613e40debd2a3f4264057868\"), {\n      signal: this.abortController.signal\n    }).then(response => response.json()).then(data => {\n      this.setState({\n        ChannelData: data.articles\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const id = this.props.match.params.id;\n\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      fetch(\"https://newsapi.org/v2/everything?q=\".concat(this.state.searchQuery, \"&sources=\").concat(id, \"&apiKey=0279b927613e40debd2a3f4264057868\"), {\n        signal: this.abortController.signal\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          ChannelData: data.articles\n        });\n      }).catch(err => {\n        console.log(err);\n      }); // console.log(this.state);\n    }\n  }\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n\n  render() {\n    const _this$state = this.state,\n          ChannelData = _this$state.ChannelData,\n          searchQuery = _this$state.searchQuery;\n    console.log(ChannelData, searchQuery);\n\n    if (ChannelData) {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, ChannelData.map(article => React.createElement(\"div\", {\n        class: \"col-md-4 mb-3 card-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card h-100 rounded p-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"card-img-top img-fluid\",\n        src: article.urlToImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        class: \"card-title text-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, article.title), React.createElement(\"p\", {\n        class: \"card-text text-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, article.description), React.createElement(\"a\", {\n        href: article.url,\n        class: \"btn btn-dark btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Visit article\"))))))));\n    } else {\n      return React.createElement(\"div\", {\n        class: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default Channel;","map":{"version":3,"sources":["/media/mark/mark_nakachon/internshala/news-app/news-app/src/components/Channel.js"],"names":["React","Component","Link","SearchBar","Loading","updateSearchQuery","query","setState","searchQuery","Channel","constructor","props","abortController","AbortController","state","ChannelData","bind","componentDidMount","id","match","params","fetch","signal","then","response","json","data","articles","catch","err","console","log","componentDidUpdate","prevProps","prevState","componentWillUnmount","abort","render","map","article","urlToImage","title","description","url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SearchBar from './SearchBar';\nimport Loading from './Loading';\nimport '../Hover.css'\nexport function updateSearchQuery(query){\n this.setState({searchQuery:query});\n}\nclass Channel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ChannelData: null,searchQuery:null };\n    updateSearchQuery = updateSearchQuery.bind(this);\n\n  }\n  abortController = new AbortController();\n   /* myStyle = {\n        cardhover:{\n            backgroundColor:\"red\"\n        }\n  }*/\n  componentDidMount() {\n    const { id } = this.props.match.params;\n    fetch(\n      `https://newsapi.org/v2/everything?sources=${id}&pageSize=100&apiKey=0279b927613e40debd2a3f4264057868`\n    ,{\n      signal:this.abortController.signal\n    })\n      .then(response => response.json())\n      .then(data =>\n        {\n        this.setState({ ChannelData: data.articles })\n        })\n        .catch(err=>{\n          console.log(err);\n        })\n  }\n  componentDidUpdate(prevProps,prevState){\n    const { id } = this.props.match.params;\n\n      if(prevState.searchQuery!==this.state.searchQuery){\n        fetch(\n      `https://newsapi.org/v2/everything?q=${this.state.searchQuery}&sources=${id}&apiKey=0279b927613e40debd2a3f4264057868`\n      ,{signal:this.abortController.signal}\n    )\n      .then(response => response.json())\n      .then(data =>{this.setState({ ChannelData: data.articles })})\n      .catch(err=>{\n        console.log(err);\n      })\n     // console.log(this.state);\n        }\n  }\n  componentWillUnmount(){\n      this.abortController.abort();\n  }\n\n  render() {\n    const { ChannelData,searchQuery } = this.state;\n    console.log(ChannelData,searchQuery);\n    if (ChannelData) {\n      return (\n        <React.Fragment>\n        <SearchBar/>\n          <div class=\"container\">\n            <div class=\"row\">\n              {ChannelData.map(article => (\n                <div class=\"col-md-4 mb-3 card-hover\">\n                  <div class=\"card h-100 rounded p-1\" >\n                    <img class=\"card-img-top img-fluid\" src={article.urlToImage} />\n                    <div class=\"card-body\">\n                      <h5 class=\"card-title text-light\">{article.title}</h5>\n                      <p class=\"card-text text-light\">{article.description}</p>\n                      <a href={article.url} class=\"btn btn-dark btn-block\">\n                        Visit article\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </React.Fragment>\n      );\n    } else {\n      return (<div class=\"text-center\"><Loading/></div>);\n    }\n  }\n}\n\nexport default Channel;\n"]},"metadata":{},"sourceType":"module"}